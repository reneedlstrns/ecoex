<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Active Connections</title>
</head>
<body>
<div class="connections-section">
    <h2 class="page-title">Connections</h2>
    <p class="highlight">You have a total of {{ total_connections }} connections.</p>

    {% if requests %}
        <div class="impact-scroll-wrapper">
            <ul class="request-list">
                {% for req in requests %}
                    <li class="request-card">
                        <div class="connection-info">
                            <p><strong>{{ req.collector_name }}</strong> wants to collect your <strong>{{ req.post_title }}</strong></p>
                            <p>Status: <em>{{ req.connection_status }}</em></p>
                        </div>
                        <div class="request-actions">
                            <button onclick="handleDeny('{{ req.donor_name }}', '{{ req.collector_name }}')">Deny</button>
                            <button onclick="handleConfirm('{{ req.donor_name }}', '{{ req.collector_name }}')">Confirm</button>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        </div>    
        
    {% else %}
            <p>No active connections.</p>
    {% endif %}
</div>
</body>
</html>
